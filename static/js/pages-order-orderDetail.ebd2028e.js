(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-orderDetail"],{"183b":function(t,e,i){"use strict";i.r(e);var a=i("73be"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"1de5":function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"639d":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAAEAKMDAREAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAAgEBgcFCf/EAC0QAAECBQMCAwkBAAAAAAAAAAECBAADBQYRBxIhMWEIIlETFRYyQUJSccHh/8QAHAEAAgIDAQEAAAAAAAAAAAAAAAcFCAEDBgQC/8QAJhEAAQMEAAYCAwAAAAAAAAAAAQACEQMEBTEGEiFBYXEiURTB8f/aAAwDAQACEQMRAD8AzyLDSqeJ0vBPovatbtf40qbH3lWJTxcmQl0QqTI2YIWlGPm56qzjAxiF3xJkbilV/FpuhpEmNnxP0m/wVhrO6om+rt5ntdAnQgAzH317z4gpxIXqciiVJypnT3ThABXKlqWkK6ZAzGiu806bnjYBW6hTFSq1h0SAkZvm/q3fdVU4qzxU1KFESm6PLKlDP2p/pyT6whL/ACFxkKhfXdMaHYegrRYvE2mKo8lqyJ2e59n9a8KsRHKbRAhECE7mlOnNDsygNHVPa5eupCFzXc4hU07gCUg44HYY75h44fGW1lQbUpN+ThJJ3/FWbP5i8yVy+nXd8GkgNHQdO/k+1fI6Jcqs514vqp6fafOqpSDJS99omUlc5G8I3cbgM4yO+R2jzV6hpskLsOFcXb5fJNt7qeWCehiY7evUHykLrVbf3FUp1Qqbuc+ezjuXOnq3KP8AnaIUuLjJVp7a2o2dIULdga0aA6KDmBelGYEK1aX2y0vG/KPR3ypqWjucETDJUErxz0JB9PSPum0PeGlQeavamPx9W6ogczRInS9BbWtKkWXSZdNorCUwaI52Shys/ko9VHueYnGtawQ0Kpd9f3WSrG4u3lzj99vAGgPAXZjYo9KX42tZrpsd3TLaoL4UtpUGqpzhy3BS4V5inYF58qf0Ae+OI7zhvHW9y11xWbzFpgA61uEpONcxeWlRllbv5WuEkjZ6kRPYeoPmOiR3JUSSck/WGSSktroiMysoglC//9k="},"73be":function(t,e,i){"use strict";i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{orderId:null,num:null,orderData:"",goodsData:"",address:""}},onLoad:function(t){this.num=t.num,this.orderId=t.id,console.log(t),this.getOrderDetail()},computed:{payType:function(){var t="";return 1===this.orderData.pay_type&&(t="支付宝支付"),2===this.orderData.pay_type&&(t="微信支付"),t},receiptType:function(){var t="";return 1===this.orderData.receipt_type&&(t="物流"),2===this.orderData.receipt_type&&(t="自提"),t},orderStatus:function(){var t="";return 1===this.orderData.status&&(t="待付款"),2===this.orderData.status&&(t="待发货"),3===this.orderData.status&&(t="待收货"),4===this.orderData.status&&(t="待评价"),5===this.orderData.status&&(t="已完成"),6===this.orderData.status&&(t="已取消"),t},payState:function(){var t=this.orderData.status,e="";return e=2===t||3===t||4===t||5===t?"已支付":"未支付",e}},methods:{jump:function(t,e,i){this.$app.jump(t,e,i)},navToLogistics:function(t,e){uni.navigateTo({url:"/pages/webview/webview?code=".concat(t,"&logistics=").concat(e)})},getOrderDetail:function(){var t=this,e={url:"/api.php/user/profile/order_info",method:"POST"},i={id:this.orderId};this.$api.httpTokenRequest(e,i).then((function(e){1===e.data.code&&(t.orderData=e.data.data,t.address=e.data.data.address,console.log(t.orderData))}),(function(t){console.log(t)}))},cancelOrder:function(){var t=this,e={url:"/api.php/wxapp/user/order_change",method:"POST"},i={id:this.orderId,status:6};uni.showModal({content:"确认取消此订单？",success:function(a){a.confirm?t.$api.httpTokenRequest(e,i).then((function(e){uni.showToast({title:e.data.msg,icon:"none"}),setTimeout((function(){t.getOrderDetail()}),1e3)}),(function(t){console.log(t)})):a.cancel&&console.log("用户点击取消")}})},payment:function(){var t={url:"/api.php/wxapp/Wxpay/wx_app",method:"POST"},e={out_trade_no:this.num,type:4};console.log(e),this.$api.httpTokenRequest(t,e).then((function(t){if(1===t.data.code){var e=t.data.data;uni.requestPayment({provider:"wxpay",orderInfo:JSON.stringify(e),success:function(t){setTimeout((function(){uni.redirectTo({url:"/pages/pay/pay"})}),1e3)},fail:function(t){uni.redirectTo({url:"/pages/order/order"})}})}}),(function(t){console.log(t)}))}}};e.default=a},8972:function(t,e,i){var a=i("d428");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("261b1d7b",a,!0,{sourceMap:!1,shadowMode:!1})},"94ba":function(t,e,i){"use strict";var a=i("8972"),o=i.n(a);o.a},ad16:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"orderDetail"},[i("v-uni-view",{staticClass:"order_num"},[i("v-uni-view",[i("v-uni-text",[t._v("订单号：")]),i("v-uni-text",[t._v(t._s(t.orderData.out_trade_no))])],1),i("v-uni-view",[t._v(t._s(t.orderStatus))])],1),i("v-uni-view",{staticClass:"address"},[1==t.orderData.receipt_type&&t.address?i("v-uni-view",{staticClass:"info"},[i("v-uni-view",[t._v("姓名："+t._s(t.address.full_name))]),i("v-uni-view",[t._v("电话："+t._s(t.address.tel))]),i("v-uni-view",[t._v("城市："+t._s(t.address.address.province+"-"+t.address.address.city+"-"+t.address.address.district))]),i("v-uni-view",[t._v("地址："+t._s(t.address.address.area))])],1):t._e(),2==t.orderData.receipt_type&&t.goodsData?i("v-uni-view",{staticClass:"info"},[i("v-uni-view",[t._v("店铺名称："+t._s(t.goodsData.user_login))]),i("v-uni-view",[t._v("商家电话："+t._s(t.goodsData.mobile))]),i("v-uni-view",[t._v("所在区域："+t._s(t.goodsData.address.province_name+"-"+t.goodsData.address.city_name+"-"+t.goodsData.address.district_name))]),i("v-uni-view",[t._v("详细地址："+t._s(t.goodsData.address.area))])],1):t._e()],1),i("v-uni-view",{staticClass:"goods_box"},[t._l(t.orderData.products,(function(e){return i("v-uni-view",{key:e.id,staticClass:"goods_list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jump("/pages/detail/goodsDetail?id=",e.post_id)}}},[i("v-uni-image",{attrs:{src:e.thumbnail,mode:""}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.post_title))]),i("v-uni-view",{staticClass:"price"},[t._v("价格：¥"+t._s(e.one_old_total/e.num))]),i("v-uni-view",{staticClass:"num"},[t._v("数量：×"+t._s(e.num))])],1)],1)})),i("v-uni-view",{staticClass:"note"},[i("v-uni-text",[t._v("订单备注：")]),i("v-uni-text",[t._v(t._s(t.orderData.remark||"-"))])],1)],2),i("v-uni-view",{staticClass:"pay_state"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[t._v("支付状态")]),i("v-uni-text",[t._v(t._s(t.payState))])],1),i("v-uni-view",[t._v("下单姓名："+t._s(t.orderData.user_login||"-"))]),i("v-uni-view",[t._v("下单手机号："+t._s(t.orderData.mobile||"-"))]),i("v-uni-view",[t._v("创建时间："+t._s(t.orderData.create_time||"-"))]),i("v-uni-view",[t._v("支付方式："+t._s(t.payType))]),i("v-uni-view",[t._v("配送方式："+t._s(t.receiptType))]),3===t.orderData.status&&1===t.orderData.receipt_type?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navToLogistics(t.orderData.code,t.orderData.logistics)}}},[t._v("物流状态："),i("v-uni-text",{staticClass:"logistics"},[t._v("查看物流")])],1):t._e()],1),1==t.orderData.status?i("v-uni-view",{staticClass:"total_price"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[t._v("订单总价")]),i("v-uni-text",[t._v("¥"+t._s(t.orderData.total))])],1),i("v-uni-view",{staticClass:"pay_box"},[i("v-uni-view",{staticClass:"money"},[i("v-uni-text",[t._v("付款金额：")]),i("v-uni-text",[t._v("¥"+t._s(t.orderData.total))])],1),i("v-uni-view",{staticClass:"time"},[i("v-uni-text",[t._v("下单时间："+t._s(t.orderData.create_time||"-"))])],1)],1)],1):t._e(),1==t.orderData.status?i("v-uni-view",{staticClass:"btn"},[i("v-uni-view",{staticClass:"cancel_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("取消订单")]),i("v-uni-view",{staticClass:"pay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payment.apply(void 0,arguments)}}},[t._v("去支付")])],1):t._e(),6==t.orderData.status?i("v-uni-view",{staticClass:"btn"},[i("v-uni-view",{staticClass:"cancel_btn"},[t._v("订单已取消")])],1):t._e()],1)},n=[]},b579:function(t,e,i){"use strict";i.r(e);var a=i("ad16"),o=i("183b");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("94ba");var r,d=i("f0c5"),s=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"27bfcccb",null,!1,a["a"],r);e["default"]=s.exports},d428:function(t,e,i){var a=i("24fb"),o=i("1de5"),n=i("639d");e=a(!1);var r=o(n);e.push([t.i,'@charset "UTF-8";\n/* 自定义变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.orderDetail .order_num[data-v-27bfcccb]{background-color:#fff;padding:%?20?% %?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-top:1px solid #ddd}.orderDetail .order_num uni-view[data-v-27bfcccb]{color:#666}.orderDetail .order_num uni-view uni-text[data-v-27bfcccb]:nth-of-type(2){color:#666}.orderDetail .address[data-v-27bfcccb]{background-image:url('+r+");border-top:1px solid #eee;border-bottom:1px solid #eee;padding:%?7?% 0}.orderDetail .address .info[data-v-27bfcccb]{background-color:#fff;border-top:1px solid #eee;border-bottom:1px solid #eee;padding:%?10?% %?25?%}.orderDetail .address .info uni-view[data-v-27bfcccb]{color:#666;padding:%?3?% 0;font-size:%?28?%}.orderDetail .goods_box[data-v-27bfcccb]{background-color:#fff}.orderDetail .goods_box .goods_list[data-v-27bfcccb]{padding:%?20?% %?25?% 0 %?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.orderDetail .goods_box .goods_list uni-image[data-v-27bfcccb]{width:%?200?%;height:%?200?%;margin-right:%?20?%}.orderDetail .goods_box .goods_list .info[data-v-27bfcccb]{width:%?500?%;height:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.orderDetail .goods_box .goods_list .info uni-view[data-v-27bfcccb]{color:#888}.orderDetail .goods_box .goods_list .info .shop[data-v-27bfcccb]{color:#f55d58}.orderDetail .goods_box .goods_list .info .title[data-v-27bfcccb]{color:#f55d58;font-size:%?28?%;max-height:%?80?%}.orderDetail .goods_box .goods_list .info .price[data-v-27bfcccb]{color:#666;font-size:%?26?%}.orderDetail .goods_box .note[data-v-27bfcccb]{padding:%?20?% %?25?%;margin-top:%?20?%;border-top:1px solid #ddd}.orderDetail .goods_box .note uni-text[data-v-27bfcccb]{color:#666}.orderDetail .goods_box .note uni-text[data-v-27bfcccb]:nth-of-type(2){color:#999}.orderDetail .pay_state[data-v-27bfcccb]{padding:%?20?% %?25?%;background-color:#fff;margin-top:%?20?%}.orderDetail .pay_state uni-view[data-v-27bfcccb]{color:#888;padding-top:%?15?%}.orderDetail .pay_state uni-view .logistics[data-v-27bfcccb]{color:#f55d58}.orderDetail .pay_state .title[data-v-27bfcccb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #ddd;padding-bottom:%?10?%}.orderDetail .pay_state .title uni-text[data-v-27bfcccb]{color:#666}.orderDetail .pay_state .title uni-text[data-v-27bfcccb]:nth-of-type(1){color:#000}.orderDetail .total_price[data-v-27bfcccb]{background-color:#fff;padding:%?20?% %?25?%;margin-top:%?20?%}.orderDetail .total_price uni-view[data-v-27bfcccb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.orderDetail .total_price uni-view uni-text[data-v-27bfcccb]{color:#999}.orderDetail .total_price uni-view uni-text[data-v-27bfcccb]:nth-of-type(2){color:#424242}.orderDetail .total_price uni-view.title[data-v-27bfcccb]{border-bottom:1px solid #ddd;padding-bottom:%?10?%}.orderDetail .total_price uni-view.title uni-text[data-v-27bfcccb]:nth-of-type(1){color:#000}.orderDetail .total_price uni-view.title uni-text[data-v-27bfcccb]:nth-of-type(2){color:red}.orderDetail .total_price uni-view.price[data-v-27bfcccb]{padding:%?20?% 0}.orderDetail .total_price uni-view.yf[data-v-27bfcccb]{padding-bottom:%?20?%;border-bottom:1px solid #ddd}.orderDetail .total_price uni-view.pay_box[data-v-27bfcccb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.orderDetail .total_price uni-view.pay_box .money[data-v-27bfcccb]{padding-bottom:%?10?%;margin-top:%?20?%}.orderDetail .total_price uni-view.pay_box .money uni-text[data-v-27bfcccb]{color:#424242}.orderDetail .total_price uni-view.pay_box .money uni-text[data-v-27bfcccb]:nth-of-type(2){color:red}.orderDetail .btn[data-v-27bfcccb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?30?% %?25?% %?50?% %?25?%}.orderDetail .btn uni-view[data-v-27bfcccb]{width:%?170?%;padding:%?10?% 0;border:1px solid #f55d58;text-align:center;margin-left:%?20?%;border-radius:%?10?%;font-size:%?28?%}.orderDetail .btn .cancel_btn[data-v-27bfcccb]{border:1px solid #f84c3f;color:#f84c3f}.orderDetail .btn .pay[data-v-27bfcccb]{background-color:#f55d58;color:#fff}",""]),t.exports=e}}]);